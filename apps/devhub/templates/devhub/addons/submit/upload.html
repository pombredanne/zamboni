{% extends "devhub/addons/submit/base.html" %}

{% block title %}{{ dev_page_title(_('Step 2'), addon) }}{% endblock %}

{% block primary %}

<form method="post" id="create-addon" class="item" action="">
  {{ csrf() }}
  <h3>{{ _('Step 2. Upload Your Add-on') }}</h3>
  <p>
  {% trans %}
    Use the fields below to upload your add-on package and select any platform
    restrictions. After upload, a series of automated validation tests will be run
    on your file.
  {% endtrans %}
  </p>
  <section id="upload-file">

  <div class="hidden">
    {{ new_addon_form.upload }}
  </div>
  <input type="file" id="upload-addon" data-upload-url="{{ url('devhub.upload') }}">

  {{ new_addon_form.non_field_errors() }}

      <div class="platform">
        <div class="desktop-platforms">
          <label>{{ _('Which desktop platforms is this file compatible with?') }}</label>
          {{ new_addon_form.errors.desktop_platforms }}
          {{ new_addon_form.desktop_platforms }}
        </div>
        <div class="mobile-platforms">
          <label>{{ _('Which mobile platforms is this file compatible with?') }}</label>
          {{ new_addon_form.errors.mobile_platforms }}
          {{ new_addon_form.mobile_platforms }}
        </div>
        {{ new_addon_form.upload }}
      </div>
      {% if is_admin %}
      <div class="admin-settings">
        <label>{{ _('Administrative overrides') }}</label>
        <div>
          <label for="{{ new_addon_form.admin_override_validation.auto_id }}" class="addon-upload-failure-dependant">
            {{ new_addon_form.admin_override_validation }}
            {{ new_addon_form.admin_override_validation.label }}
          </label>
        </div>
      </div>
      {% endif %}
      <div class="submission-buttons addon-submission-field">
        <button class="addon-upload-dependant" id="submit-upload-file-finish" disabled=disabled type="submit">
          {{ _('Continue') }}
        </button>
      </div>
  </section>
</form>
{% endblock primary %}
