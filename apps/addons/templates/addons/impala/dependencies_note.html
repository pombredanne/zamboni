{% set deps = addon.all_dependencies %}
{% if deps %}
  <div class="notice dependencies">
    {% if addon.is_webapp() %}
      <h3>{{ _('This app requires the following apps to work properly:') }}</h3>
    {% else %}
      <h3>{{ _('This add-on requires the following add-ons to work properly:') }}</h3>
    {% endif %}
    {% if module_context == 'discovery' %}
      <ul>
        {% for dep in deps %}
          <li>
            <a href="{{ services_url('discovery.addons.detail', dep.slug, src='discovery-dependencies') }}">
              <img src="{{ dep.icon }}">{{ dep.name }}</a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      {{ deps|addon_grid(cols=3, src='dp-hc-dependencies', dl_src='dp-dl-dependencies') }}
    {% endif %}
  </div>
{% endif %}
